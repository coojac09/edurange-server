%div.modal#modal-scenario-destroy{ :tabindex => "-1", :role => "dialog", "aria-labelledby" => "myModalLabel", "aria-hidden" => "true"}
  %div.modal-dialog
    %div.modal-content
      %div.modal-header
        %button.close{ :type => "button", "data-dismiss" => "modal", "aria-hidden" => "true"}
          &times;
        %h3.modal-title.inline#title
          Changes have been made to the Scenario
      %div.modal-body.inline#modalbody

      %div.modal-footer
        %button.btn.btn-default{"data-dismiss" => "modal"}
          Cancel

%div.modal#modal-scenario-custom-new{ :tabindex => "-1", :role => "dialog", "aria-labelledby" => "myModalLabel", "aria-hidden" => "true"}
  %div.modal-dialog
    %div.modal-content
      %div.modal-header
        %button.close{ :type => "button", "data-dismiss" => "modal", "aria-hidden" => "true"}
          &times;
        %h3.modal-title.inline#title
          Create Custom Scenario
      %div.modal-body#modalbody
        = form_tag scenarios_create_custom_path, remote:true, method: :post do
          %div#name-div
            = label_tag "Name:", nil, class: 'control-label'
            = text_field_tag "name", nil, class: 'form-control'
            %span.help-block#name-help
          %p
          %div#help-div
            %span.help-block#help-help

          = submit_tag "Submit", :class => 'btn btn-default'
      %div.modal-footer
        %button.btn.btn-default{"data-dismiss" => "modal"}
          Close

%div.panel.panel-default
  %div.panel-heading.nav.nav-pills
    %li
      %h4
        Scenarios
    %li.pull-right
      = link_to 'Load New Scenario', new_scenario_path, class: 'btn btn-default'
    %li.pull-right
      = link_to 'Create Custom Scenario', "#modal-scenario-custom-new", :data => {:toggle=>"modal"}, onclick: "$('#modal-scenario-custom-new').find('#name').val(''); $('#modal-scenario-custom-new').find('#name-div').removeClass('has-error'); $('#modal-scenario-custom-new').find('#name-help').html('');", class: 'btn btn-default'

  %div.panel-body
    = form_tag '', method: :get, class: 'form-inline filter-controls' do
      %div.form-group
        = label_tag 'archived' , 'Archived', class: 'control-label'
        = select_tag 'archived', options_for_select(['No', 'Yes', 'Either'], params[:archived] || 'No' ), class: 'form-control'
      %div.pull-right
        = submit_tag 'Filter', class: 'btn btn-default'
    %table.table
      %tr
        %th Name
        %th Date Created
        %th Status
        - if current_user.is_admin?
          %th Instructor
        %th Actions
      - @scenarios.each do |scenario|
        %tr
          %td= scenario.name
          %td= scenario.created_at
          %td= scenario.status
          - if current_user.is_admin?
            - if not scenario.user.nil?
              %td= scenario.user.name
            - else
              %td.text-muted None
          %td
            %div.btn-group.btn-group-xs
              = link_to 'Show', scenario, class: 'btn btn-default'
              - if scenario.stopped?
                = form_for scenario, action: :update, html: {class: 'btn-group btn-group-xs'} do |form|
                  = form.hidden_field :archived, value: !scenario.archived?
                  = form.submit (scenario.archived? ? 'Una': 'A') + 'rchive', class: 'btn btn-default'
              = link_to 'Destroy', destroyme_scenario_path(scenario), method: :post, remote: true, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-danger'
